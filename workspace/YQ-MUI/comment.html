<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<script type="text/javascript">
			(function(doc, win) {
				var docEl = doc.documentElement,
					resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
					recalc = function() {
						var clientWidth = docEl.clientWidth;
						if(!clientWidth) return;
						if(clientWidth >= 640) {
							docEl.style.fontSize = '100px';
						} else {
							docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';
						}
					};
				if(!doc.addEventListener) return;
				win.addEventListener(resizeEvt, recalc, false);
				doc.addEventListener('DOMContentLoaded', recalc, false);
			})(document, window);
		</script>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="css/default.css" rel="stylesheet"/>
	</head>
	<body>
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">评论</h1>
		</header>
		<div class="mui-content mui-content-padded">
		    <div class="PJ-star">
		        <span data-index="1" class="mui-icon mui-icon-star"></span>
		        <span data-index="2" class="mui-icon mui-icon-star"></span>
		        <span data-index="3" class="mui-icon mui-icon-star"></span>
		        <span data-index="4" class="mui-icon mui-icon-star"></span>
		        <span data-index="5" class="mui-icon mui-icon-star"></span>
		        <label></label>
		    </div>
		    <div class="PJ-tags">
				<span>Good attitute</span>
				<span>Good sence of responsibility</span>
				<span>Low cost</span>
				<span>Very carefully</span>
				<span>High technology</span>
			</div>
		</div>
		<script src="js/mui.min.js"></script>
		<script src="js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript">
			//设置星星
			mui('.PJ-star').on('tap','span',function(){
                var index = parseInt(this.getAttribute("data-index"));//获取当前元素的索引值
                var parent = this.parentNode;//获取当前元素的父节点 
                var children = parent.children;//获取父节点下所有子元素
                if(this.classList.contains("mui-icon-star")){//判断当前节点列表中是否含有.mui-icon-star元素
                    for(var i=0;i<index;i++){//亮星
                            children[i].classList.remove('mui-icon-star');
                            children[i].classList.add('mui-icon-star-filled');
                    }

                }else{//重置已经亮星的元素 
                    for (var i = index; i < 5; i++) {
                        children[i].classList.add('mui-icon-star')
                        children[i].classList.remove('mui-icon-star-filled')
                    }
                }
                //点亮星星的数量
                $(this).siblings('label').text(index + '星');
          	})
			
			//评定标签随机颜色设置
			var pgTags = $('.PJ-tags');	
			$(pgTags).find('span').each(function(index, element) {
				var num = Math.round(Math.random()*5+1);
				$(this).addClass('color-'+num);
		    });
		    mui('.PJ-tags').on('tap','span',function(){
		    	$(this).toggleClass('selected');
		    })
		</script>
	</body>
</html>