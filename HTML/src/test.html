<!doctype html>
<html>
<head>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>测试</title>
     <script src="js/jquery-1.11.3.min.js"></script> 
    <!--<script src="test.js"></script>-->
    <style type="text/css">
    	body{
    		margin: 10px;
    	}
    	div{
    		padding: 20px;
    		background-color: #F2F2F2;
    	}
	</style>
</head>
<body>
	<div id="d1"></div>
	<script src="js/tiny-pubsub.js"></script>
	<script>
		function createLogger(name) {
		  return function(_, a, b) {
		    // Skip the first argument (event object) but log the name and other args.
		    console.log(name, a, b);
		  };
		}
		
		// Subscribe to the "foo" topic (bind to the "foo" event, no namespace).
		$.subscribe('foo', createLogger('foo'));
		// Subscribe to the "foo.bar" topic (bind to the "foo" event, "bar" namespace).
		$.subscribe('foo.bar', createLogger('foo.bar'));
		// Subscribe to the "foo.baz" topic (bind to the "foo" event, "baz" namespace).
		$.subscribe('foo.baz', createLogger('foo.baz'));
		
		// Publish arbitrary values.
		$.publish('foo', [1, 2]);
		// logs:
		// foo 1 2
		// foo.bar 1 2
		// foo.baz 1 2
		
		$.publish('foo.bar', [3, 4]);
		// logs:
		// foo.bar 3 4
		
		$.publish('foo.baz', [5, 6]);
		// logs:
		// foo.baz 5 6
		
		$.unsubscribe('foo.bar');
		$.publish('foo', [7, 8]);
		// logs:
		// foo 7 8
		// foo.baz 7 8
	</script>
</body>
</html>
